# vars/main.yml
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Variables para el despliegue de Jenkins y su entorno

# ğŸ” Docker Hub
dockerhub_username: "{{ lookup('env', 'DOCKERHUB_USERNAME') | default('', true) }}"
dockerhub_token: "{{ lookup('env', 'DOCKERHUB_TOKEN')    | default('', true) }}"

# ğŸ” GitHub
github_token: "{{ lookup('env', 'GITHUB_TOKEN') | default('', true) }}"

# ğŸ” Jenkins basic-auth (para Traefik Middleware)
jenkins_auth_user: "{{ lookup('env', 'JENKINS_AUTH_USER') | default('', true) }}"
jenkins_auth_pass: "{{ lookup('env', 'JENKINS_AUTH_PASS') | default('', true) }}"

# ğŸ” Jenkins UI (usuario administrador en la interfaz web)
jenkins_auth_user_ui: "{{ lookup('env', 'JENKINS_AUTH_USER_UI') | default('', true) }}"
jenkins_auth_pass_ui: "{{ lookup('env', 'JENKINS_AUTH_PASS_UI') | default('', true) }}"

# ğŸ” Hash bcrypt generado dinÃ¡micamente (Ansible lo setea vÃ­a set_fact)
jenkins_auth_pass_ui_hashed: ""

# ğŸ” Jenkins admin secret (para Helm)
jenkins_admin_secret_name: jenkins-admin

# ğŸŒ Dominio pÃºblico del dashboard
jenkins_dashboard_domain: jenkins.socialdevs.site

# ğŸ§© Kubernetes y certificados
jenkins_namespace: jenkins
tls_secret_name: wildcard-socialdevs-tls
jenkins_middleware_name: jenkins-dashboard-auth
jenkins_secret_name: jenkins-dashboard-auth-secret

# ğŸ“¦ Helm config
helm_namespace: jenkins
jenkins_release_name: jenkins
jenkins_chart_version: "5.8.63"

# ğŸ“‚ StorageClass existente en el clÃºster (ej: Longhorn, local-path)
jenkins_storage_class: longhorn

# ğŸ› ï¸ Paths CLI y configuraciÃ³n
kubeconfig_path: "/home/victory/.kube/config"
kubectl_path: "/usr/local/bin/kubectl"
kubeseal_path: "/usr/local/bin/kubeseal"

# ğŸŒ IP del cluster virtual (VIP o HAProxy externo)
vip_kubernetes: "192.168.0.32"

# ğŸŒ RedirecciÃ³n HTTP â†’ HTTPS en Ingress (Traefik)
http_to_https_redirect: true
