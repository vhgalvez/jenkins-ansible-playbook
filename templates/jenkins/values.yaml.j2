# templates/jenkins/values.yaml.j2
controller:
  serviceType: ClusterIP
  servicePort: 8080
  jenkinsOpts: "--prefix=/"

  ingress:
    enabled: true
    ingressClassName: traefik
    hostName: "{{ jenkins_ingress_host }}"
    annotations:
      kubernetes.io/ingress.class: traefik
      traefik.ingress.kubernetes.io/router.entrypoints: web,websecure
      traefik.ingress.kubernetes.io/router.tls: "true"
      traefik.ingress.kubernetes.io/redirect-entry-point: websecure
      traefik.ingress.kubernetes.io/auth-type: basic
      traefik.ingress.kubernetes.io/auth-secret: jenkins-auth-secret
    tls:
      - hosts:
          - "{{ jenkins_ingress_host }}"

  healthProbes:
    livenessProbe:
      httpGet:
        path: /
        port: http
      initialDelaySeconds: 30
      periodSeconds: 10
    readinessProbe:
      httpGet:
        path: /
        port: http
      initialDelaySeconds: 30
      periodSeconds: 10
    startupProbe:
      httpGet:
        path: /
        port: http
      failureThreshold: 30
      periodSeconds: 10

  JCasC:
    enabled: false

  installPlugins: []  # Ejemplo: ["kubernetes", "git", "workflow-aggregator"]