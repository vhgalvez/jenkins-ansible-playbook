# roles/jenkins/templates/values.yaml.j2
controller:
  ingress:
    enabled: true
    hostName: "{{ jenkins_ingress_host }}"
    ingressClassName: traefik
    annotations:
      kubernetes.io/ingress.class: traefik
    paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: jenkins
            port:
              number: 8080
    tls:
      - hosts:
          - "{{ jenkins_ingress_host }}"

  jenkinsOpts: "--prefix=/"  # Importante para que Jenkins funcione bien en /

  JCasC:
    enabled: false  # Desactivado por defecto. Actívalo si usas Jenkins Configuration as Code.

  installPlugins: []  # Puedes agregar plugins aquí, por ejemplo: ["kubernetes", "git", "workflow-aggregator"]

  serviceType: NodePort
  nodePort: 32000  # Puerto expuesto si necesitas debuggear sin Ingress